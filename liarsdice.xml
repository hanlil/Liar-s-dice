<?xml version="1.0"?>
<!DOCTYPE vxml 
  PUBLIC "-//W3C//DTD VOICEXML 2.1//EN" "http://www.speech.kth.se/~gabriel/voicexml/vxml.dtd">
<vxml xmlns="http://www.w3.org/2001/vxml" version="2.1" xml:lang="en-US">
	<form id="game">
		<grammar src="grammar.xml#START" type="application/grammar-xml" maxage="0"/>
		<field name="welcome" type="boolean">
			<prompt bargein="false">
			Hello, we are going to play a game of liar's dice. Please roll the dice. <break\> Are you ready?
			</prompt>
			<filled mode="all" namelist="welcome">
				<if cond="welcome">
					<prompt>
						Ok, let's start<break/>
					</prompt>
				</if>
			</filled>
		</field>
		<field name="bid">
			<grammar src="grammar.xml#BID"/>
			<prompt>Make your bid</prompt>
			<nomatch>
				That is not a bid<break/><reprompt/>
			</nomatch>
		</field>
		<filled mode="all" namelist="bid">
			<prompt>
				Your bid is <value expr="bid"/>
			</prompt>
		</filled>
		<field name="reveal">
			<grammar src="grammar.xml#REVEAL"/>
			<prompt>What dice vaules do you have?</prompt>
			<nomatch>
				That can't be right<break/><reprompt/>
			</nomatch>
		</field>
		<filled mode="all" namelist="reveal">
			<field name="check" type="boolean">
				<prompt>
					<value expr="reveal"/>, is that correct?
				</prompt>
				<filled mode="all" namelist="check">
					<if cond="check">
						<prompt>
							Alright
						</prompt>
					<else/>
						<promt>
							Ok, let's try again
						</promt>
						<clear namelist="reveal check"/>
					</if>
				</filled>
			</field>
		</filled>
	</form>
</vxml>
